<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css">
    <link rel="stylesheet" href="style.css">
    <style>
        :root {
    --bg01: linear-gradient(180deg, #22262A 0%, #181A1D 100%);
    --bg02: linear-gradient(135deg, #2F3439, #1D1F23);
    --bg03: linear-gradient(135deg, #2C3136, #1D2023);
    --bg04: #040404;

    --border01: #22262A;
    --border02: #9f8181;

    --box-shadow01: 6px 6px 10px #151618, -6px -6px 10px #2c3136, inset 2px 2px 6px #33353b, inset -3px -3px 6px #151618;
    --box-shadow02: -6px -6px 10px #151618, 6px 6px 10px #2c3136, inset 2px 2px 6px #33353b, inset -3px -3px 6px #151618;
    --box-shadow03: 6px 6px 12px #151618, -6px -6px 12px #2c3136;
    --box-shadow04: inset 2px 2px 3px -2px rgba(167, 169, 171, 0.322), inset 0px -1px 1px 0px #4a4c4e;
    --box-shadow05: 8px 8px 12px #151618, -2px -2px 10px #2c3136, inset 2px 2px 3px #33353b, inset -2px -2px 3px #151618;
    --box-shadow06: 10px 10px 12px #151618, -10px -10px 12px #222529, inset 4px 4px 8px #33353b, inset -4px -4px 8px #151618;
    --box-shadow07: 10px 10px 12px #151618, -10px -10px 12px #2c3136, inset -4px -4px 8px #33353b, inset 4px 4px 8px #151618;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Lato', sans-serif;
}

body {
    font-family: 'Lato', sans-serif;
    background: var(--bg01);
    height: 100vh;
}

.wrapper {
    max-width: 1200px;
    height: 100vh;
    text-align: center;
    padding: 1rem;
    margin: 0 auto;
    overflow: hidden;
}

header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    text-align: center;
    color: white;
    margin-bottom: 0rem;
}

header .hdbtn {
    background: #4CAF50;
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
}

.player {
    margin-top: 1rem;
}

img {
    width: 19rem;
    height: 19rem;
    margin-bottom: 1rem;
    object-fit: cover;
    border: 10px solid var(--border02);
    border-radius: 50%;
    box-shadow: var(--box-shadow03);
    animation: rotation 8s infinite linear;
    transform-origin: center;
}

.name {
    color: #A7A9AB;
    font-size: 1.2rem;
    text-transform: capitalize;
}

.artist {
    color: #7c7d80;
    font-size: 14px;
    text-transform: capitalize;
    padding: 10px 0 20px 0;
}

.audioC {
    margin: -1px 0px -2px 0px;
}

.song-timer {
    display: grid;
    place-items: center;
    margin-bottom: 20px;
}

.song-timer span {
    font-size: 12px;
    color: #7c7d80;
    user-select: none;
    font-weight: 800;
}

.progress-area {
    height: 7px;
    width: 60%;
    margin: 10px auto;
    border-radius: 50px;
    background: var(--bg04);
    box-shadow: var(--box-shadow04);
    cursor: pointer;
}

.progress-area .progress-bar {
    height: inherit;
    width: 100%;
    position: relative;
    border-radius: inherit;
    background: linear-gradient(90deg, #84514b 0%, #e1530a 80%);
    box-shadow: var(--box-shadow04);
    transition: width 0.2s ease;
}

.progress-bar::before,
.progress-bar::after {
    right: 50%;
    transform: translate(50%, -50%);
}

.progress-bar::before {
    width: 20px;
    height: 20px;
}

.progress-bar::after {
    width: 10px;
    height: 10px;
}

.controls {
    margin: 35px 8px 5px 8px;
}

.btnC {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    border: 5px solid var(--border02);
}

.file-upload {
    margin-top: 20px;
    text-align: center;
}

#file-input {
    display: none;
}

.file-btn {
    cursor: pointer;
    padding: 10px 20px;
    background-color: #4CAF50;
    color: #fff;
    border: none;
    border-radius: 5px;
    font-size: 16px;
}

.modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.7);
}

.modal-content {
    background-color: #fefefe;
    margin: 10% auto;
}


    </style>
</head>

<body>
    <div class="wrapper">
        <header>
            <button class="hdbtn" id="backButton">
                <i class="fi fi-sr-arrow-small-left"></i> Back
            </button>
            <h3 class="p-now">. . . . . .  KANNADA PLAYLIST  . . . . . </h3>
            <button class="hdbtn" id="menuButton">
                <i class="fi fi-sr-list"></i> Show Playlist
            </button>
        </header>

        <div class="player">
            <div class="img-area">
                <img id="musicImg" src="assets/image/images.png" alt="">
            </div>

            <div class="song-details">
                <h1 class="name">SONG NAME</h1>
                <h3 class="artist">ARTIST</h3>
            </div>

            <div class="audioC">
                <div class="song-timer">
                    <span class="current-time">0:00</span>
                    <span class="max-duration">0:00</span>
                </div>
                <div class="progress-area">
                    <div class="progress-bar"></div>
                    <audio id="main-audio"></audio>
                </div>
            </div>

            <div class="controls">
                <button class="btnC" id="prev">
                    <i class="fi fi-sr-rewind"></i>
                </button>
                <button class="play-pause btnC">
                    <i class="fi fi-sr-play play"></i>
                </button>
                <button class="btnC" id="next">
                    <i class="fi fi-sr-forward"></i>
                </button>
                <div class="file-upload">
                    <input type="file" id="file-input" accept=".mp3" />
                    <label for="file-input" class="file-btn">Choose File</label>
                </div>
            </div>
        </div>
    </div>

    <div id="playlistModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Playlist</h2>
            <ul id="playlist"></ul>
        </div>
    </div>
    <script>
         // Sample music playlist
 const allMusic = [
    {
        name: "Nanu_Nandini",
        artist: "VICKY",
        src: "assets/song/naanu_nandini___bengaluru_bandini___kannada_full_song_2023___comedy_song___alfiya_media(256k).mp3",
        img: "assets/image/nanu nadini.jpeg",
    },
    {
        name: "Bhajarangi 2 - Nee Sigoovaregu",
        artist: "Sid Sriram",
        src: "assets/song/Bhajarangi_2___Nee_Sigoovaregu__Dr.Shivarajkumar_Sid_Sriram_Bhavana__Arjun_Janya__K.Kalyan__A.Harsha(256k).mp3",
        img: "assets/image/nee.jpg",
    },
    {
        name: "Lokada Kalaji (2019) - Raghu Dixit",
        artist: "Raghu Dixit",
        src: "assets/song/Lokada_Kalaji__2019____Raghu_Dixit___Courtyard_Jam_Sessions(256k).mp3",
        img: "assets/image/lokada.jpeg",
    },
    {
        name: "GHOST__OGM",
        artist: "Aishwarya Rangarajan, Jithin Raj, and MC Chetan ",
        src: "assets/song/GHOST__OGM___Dr_Shivarajkumar___Anupam_Kher___Jayaram___Prashant_Narayanan___Srini___Sandesh(256k).mp3",
        img: "assets/image/ghost.jpeg",
    },
    {
        name: "The_Monster_Song",
        artist: "Adithi_Sagar___Ravi_Basrur_",
        src: "assets/song/The_Monster_Song_-_KGF_Chapter_2___Adithi_Sagar___Ravi_Basrur___Yash___Sanjay_Dutt___Prashanth_Neel(256k).mp3",
        img: "assets/image/monster).jpeg",
    },
    {
        name: "Malnad_Adike_-_Simhadriya_Simha",
        artist: "Rajesh Krishnan, S. P. Balasubrahmanyam, and Sangeeta Gururaj",
        src: "assets/song/Malnad_Adike_-_Simhadriya_Simha_-_HD_Video_Song_-_Dr.Vishnuvardhan_-_Bhanupriya_-_Deva(256k).mp3",
        img: "assets/image/shima.jpg",
    },
    {
        name: "Ulidavaru_Kandante___Gatiya_Ilidu_",
        artist: "Vijay prakash_Ajaneesh",
        src: "assets/song/Ulidavaru_Kandante___Gatiya_Ilidu___Video_Song___Vijay_Prakash___Rakshit_Shetty___Kishore___Ajaneesh(256k).mp3",
        img: "assets/image/gatiya .jpg",
    },
    {
        name: "Alemaariye_-_Rathnan_Prapancha",
        artist: "Sanjith_Hegde,Ajaneesh",
        src: "assets/song/Alemaariye_-_Rathnan_Prapancha__Dhananjaya_Sanjith_Hegde,Ajaneesh_Lokanath_Rohit_Padaki_KRG_Studios(256k).mp3",
        img: "assets/image/ratna.jpg",
    },
    {
        name: "Geethanjali",
        artist: "SPB____Shankar_Nag_",
        src: "assets/song/Geethanjali_____C_B_I_Shankar_Kannada_Old__Movie____SPB____Shankar_Nag_Hit_Songs_HD(256k).mp3",
        img: "assets/image/getanjali.jpeg",
    },

    {
        name: "Kantara_Varaha Roopam",
        artist: "__Ajaneesh_Loknath  and Sai Vignesh ",
        src: "assets/song/Kantara_-_Varaha_Roopam_Lyric_Video___Sai_Vignesh___Rishab_Shetty___Ajaneesh_Loknath___Hombale_Films(256k).mp3",
        img: "assets/image/kantara29102022_1c.avif",
    },
    {
        name: "Yajamana_",
        artist: "Vijay Prakash",
        src: "assets/song/Yajamana_Title_Track_4K_Video_Song___Darshan___V_Harikishna___Media_House_Studio(256k).mp3",
        img: "assets/image/yajamana.jpg",
    },
    {
        name: "Maathu_Nannavalu",
        artist: "Sonu_Nigam___V_Harikrishna",
        src: "assets/song/Gaja_Movie_Songs___Maathu_Nannavalu_Video_Song___Darshan___Navya_Nair___Sonu_Nigam___V_Harikrishna(256k).mp3",
        img: "assets/image/mathu.jpg",
    },
    {
        name: "Singara_Siriye",
        artist: "_Vijay_Prakash_Ananya_Bhat__Ajaneesh_Loknath",
        src: "assets/song/Kantara_-_Singara_Siriye__Vijay_Prakash_Ananya_Bhat__Ajaneesh_Loknath__Rishab_Shetty_Hombale_Films(256k).mp3",
        img: "assets/image/singars.jpeg",
    },
    {
        name: "Jackie___Jackie_",
        artist: "Yogaraj_Bhat",
        src: "assets/song/Jackie___Jackie_Jackie_HD_Video_Song___Puneeth_Rajkumar___Bhavana_Menon___Yogaraj_Bhat(256k).mp3",
        img: "assets/image/jacki.jpg",
    },
     {
        name: "Sakatthagavle",
        artist: "V._Harikrishna___Nagendra_Prasad",
        src: "assets/song/Sakatthagavle_Video_Song___Porki___V._Harikrishna___Nagendra_Prasad(256k).mp3",
        img: "assets/image/Porki-Kannada-2014-500x500.jpg ",
    },

    {
        name: "Pushpavati_Kannada_Song",
        artist: "Darshan__V_Harikrishna",
        src: "assets/song/Kranti___Pushpavati_Kannada_Song___Darshan__V_Harikrishna_Shylaja_Nag,_B_Suresha__Media_House_Studio(256k).mp3",
        img: "assets/image/pusp.jpg",
    },
    {
        name: "Munjane_Manjalli",
        artist: "Raghu_Dixit",
        src: "assets/song/Munjane_Manjalli___Audio_Song___Just_Maath_Maathali___Kiccha_Sudeep___Ramya___Raghu_Dixit__(256k).mp3",
        img: "assets/image/unjane_Manjalli.jpeg",
    },
    {
        name: "Navagraha___Ambari_Oorinalli",
        artist: "Soumya___Shankar_Mahadevan",
        src: "assets/song/Navagraha___Ambari_Oorinalli___HD_Video_Song___Soumya___Shankar_Mahadevan___Darshan___V.Harikrishna(256k).mp3",
        img: "assets/image/navagraha.jpeg",
    },
    {
        name: "NENNE_TANAKA",
        artist: "Sanjith_Hegde",
        src: "assets/song/NENNE_TANAKA_-_Video_Song___Trivikrama___Vikram_Ravichandran___Akansha___Sanjith_Hegde___A2_Music(256k).mp3",
        img: "assets/image/Nenne-Tanaka-From-Trivikrama-Kannada-2022-20220620173603-500x500.jpg",
    },
    {
        name: "Paramaathma___Paravashanadenu",
        artist: " Sonu Nigam",
        src: "assets/song/Paramaathma___Paravashanadenu_Video_song___Puneeth_Rajkumar,_Deepa_Sannidhi(256k).mp3",
        img: "assets/image/yavaing.jpg",
    },
    {
        name: "Sojugada_Soojumallige",
        artist: "Chaitra Achar and Midhun Mukundan",
        src: "assets/song/Sojugada_Soojumallige_Video_Song_-_GGVV_I_Raj_B_Shetty_I_Midhun_Mukundan_I_Chaithra_J_Achar(256k).mp3",
        img: "assets/image/Sojugada-Soojumallige-From-Garuda-Gamana-Vrishabha-Vahana--Kannada-2021-20211126190144-500x500.jpg",
    },
    

  

    // Add more songs...
];

const wrapper = document.querySelector(".wrapper");
const musicImg = document.getElementById("musicImg");
const musicName = document.querySelector(".name");
const musicArtist = document.querySelector(".artist");
const playPauseBtn = document.querySelector(".play-pause");
const prevBtn = document.querySelector("#prev");
const nextBtn = document.querySelector("#next");
const mainAudio = document.querySelector("#main-audio");
const progressArea = document.querySelector(".progress-area");
const progressBar = document.querySelector(".progress-bar");
const fileInput = document.querySelector("#file-input");
const maxDuration = document.querySelector(".max-duration");

let isMusicPaused = true;
let currentMusicIndex = 0;

function initialize() {
    loadMusic(allMusic[currentMusicIndex]);
    updatePlaylist();

    fileInput.addEventListener("change", handleFileChange);
    playPauseBtn.addEventListener("click", togglePlayPause);
    prevBtn.addEventListener("click", prevMusic);
    nextBtn.addEventListener("click", nextMusic);
    progressArea.addEventListener("click", handleProgressClick);
    mainAudio.addEventListener("timeupdate", handleTimeUpdate);
    mainAudio.addEventListener("ended", nextMusic);

    const backButton = document.getElementById("backButton");
    backButton.addEventListener("click", () => {
        console.log("Back button clicked");
        window.history.back(); // Simulate navigating back in the browser history
    });

    const menuButton = document.getElementById("menuButton");
    menuButton.addEventListener("click", showPlaylistModal);

    const closeBtn = document.querySelector(".close");
    closeBtn.addEventListener("click", () => {
        playlistModal.style.display = "none";
    });

    window.addEventListener("click", (event) => {
        if (event.target === playlistModal) {
            playlistModal.style.display = "none";
        }
    });
}

function loadMusic(music) {
    musicImg.src = music.img;
    musicName.innerText = music.name;
    musicArtist.innerText = music.artist;
    mainAudio.src = music.src;
}

function playMusic() {
wrapper.classList.add("paused");
musicImg.classList.add("rotate");
playPauseBtn.innerHTML = '<i class="fi fi-sr-pause"></i>';
mainAudio.play().then(() => {
isMusicPaused = false;
}).catch((error) => {
console.error("Error playing music:", error);
isMusicPaused = true;
});
}



function pauseMusic() {
    wrapper.classList.remove("paused");
    musicImg.classList.remove("rotate");
    playPauseBtn.innerHTML = '<i class="fi fi-sr-play"></i>';
    mainAudio.pause();
}

function togglePlayPause() {
    isMusicPaused ? playMusic() : pauseMusic();
    isMusicPaused = !isMusicPaused;
}

function prevMusic() {
    currentMusicIndex = (currentMusicIndex - 1 + allMusic.length) % allMusic.length;
    loadMusic(allMusic[currentMusicIndex]);
    playMusic();
}

function nextMusic() {
    currentMusicIndex = (currentMusicIndex + 1) % allMusic.length;
    loadMusic(allMusic[currentMusicIndex]);
    playMusic();
}

function handleFileChange() {
    const selectedFile = fileInput.files[0];

    if (selectedFile) {
        const newMusic = {
            name: selectedFile.name.split(".")[0],
            artist: "Unknown Artist",
            src: URL.createObjectURL(selectedFile),
            img: "assets/image/images.png",
        };

        allMusic.push(newMusic);
        currentMusicIndex = allMusic.length - 1;
        loadMusic(newMusic);
        playMusic();
        updatePlaylist();
    }
}

function handleProgressClick(e) {
    const progressWidth = progressArea.clientWidth;
    const clickedOffsetX = e.offsetX;
    const songDuration = mainAudio.duration;

    mainAudio.currentTime = (clickedOffsetX / progressWidth) * songDuration;
}

function handleTimeUpdate(e) {
    const currentTime = e.target.currentTime;
    const duration = e.target.duration;
    const progressWidth = (currentTime / duration) * 100;
    progressBar.style.width = `${progressWidth}%`;

    const musicCurrentTime = document.querySelector(".current-time");

    const currentMin = Math.floor(currentTime / 60);
    let currentSec = Math.floor(currentTime % 60);
    if (currentSec < 10) {
        currentSec = `0${currentSec}`;
    }
    musicCurrentTime.innerText = `${currentMin}:${currentSec}`;

    const durationMin = Math.floor(duration / 60);
    let durationSec = Math.floor(duration % 60);
    if (durationSec < 10) {
        durationSec = `0${durationSec}`;
    }
    maxDuration.innerText = `${durationMin}:${durationSec}`;
}

function updatePlaylist() {
    const playlistContent = document.getElementById("playlist");
    playlistContent.innerHTML = "";

    allMusic.forEach((music, index) => {
        const listItem = document.createElement("li");
        listItem.innerText = `${index + 1}. ${music.name}`;
        playlistContent.appendChild(listItem);
    });
}

function showPlaylistModal() {
    updatePlaylist();
    playlistModal.style.display = "block";
}

initialize();
    </script>
</body>

</html>
